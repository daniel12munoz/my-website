@import url('./austin.css');

/* Root Vonix section */
.vo {
  color: var(--au-ink);
}

/* Match hero vertical height with Marketing Alliance / Blaze / Austin Underground */
.vo {
  position: relative;
  top: -28px;      /* slightly lower (less negative = further down) */
}

@media (max-width: 980px) {
  .vo {
    top: -12px;     /* consistent proportional adjustment */
  }
}

/* HERO ROW: same grid ratio as Blaze + Marketing Alliance */
.vo__row1 {
  display: grid;
  grid-template-columns: 0.56fr 0.44fr;    /* video slightly larger than text column */
  align-items: start;
  gap: var(--au-gap);
  margin-bottom: clamp(16px, 3vw, 28px);
}

/* Left column: hero video block */
.vo__videoBlock {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

/* Hero video frame */
.vo__heroMedia {
  width: 100%;
  aspect-ratio: 16 / 9;
  border-radius: 10px;
  box-shadow: var(--shadow);
  background: #000;
  overflow: hidden;
}

.vo__heroVideo {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
}

/* Link under hero — visually match Austin Underground hero link */
.vo__linkWrap {
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
  margin-top: 10px;
  width: max-content;
}

.vo__link {
  display: inline-block;
  margin-top: clamp(6px, 1vw, 12px);   /* slightly less space than before */
  color: var(--au-ink);
  text-decoration: none;
  border-bottom: 1px solid var(--au-rule);
}

.vo__link:hover {
  opacity: 0.75;
}

.vo__link:visited {
  color: var(--au-ink);  /* prevent purple visited state */
}

/* Underline that ends exactly where the link text ends */
.vo__linkRule {
  display: block;
  height: 1px;
  width: fit-content;
  background: rgba(0, 0, 0, 0.3) !important; /* solid gray, no fade, no gradient */
  background-image: none !important; /* prevent any gradients */
  opacity: 1 !important; /* ensure no opacity inheritance */
  margin-top: 2px;
}

/* Paragraph: same feel as Blaze / MA descriptions (moved to separate row, see below) */

/* Right column: title, underline, roles, logo */
.vo__heading {
  display: grid;
  justify-items: end;
  gap: 10px;
  align-content: flex-start;
}

.vo__title {
  margin: 0;
  font-family: 'IBM Plex Serif', 'Georgia', 'Times New Roman', serif;
  font-size: clamp(28px, 4.6vw, 44px);
  line-height: 1.1;
}

/* Base Vonix rule for labels */
.vo__rule {
  display: inline-block;
  height: 1px;
}

/* Main Vonix header line – shorter than the word "Vonix" with gradient from white on left */
.vo__rule--main {
  display: inline-block;
  height: 1px;
  width: clamp(40px, 5vw, 80px); /* slightly longer */
  max-width: 80px; /* ensure it never exceeds this */
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 20%,
    rgba(128, 128, 128, 0.6) 100%
  ) !important; /* fade from white on left to gray on right */
  background-image: linear-gradient(
    to right,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 20%,
    rgba(128, 128, 128, 0.6) 100%
  ) !important;
  background-color: transparent !important;
}

/* Psychology (left label) – gradient from white on right to gray on left */
.vo__rule--psychology {
  display: inline-block;
  height: 1px;
  width: clamp(80px, 10vw, 140px);
  background: linear-gradient(
    to left,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 20%,
    rgba(128, 128, 128, 0.6) 100%
  ) !important; /* fade from white on right to gray on left */
  background-image: linear-gradient(
    to left,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 20%,
    rgba(128, 128, 128, 0.6) 100%
  ) !important;
  background-color: transparent !important;
}

/* Technology (right label) – gradient from white on left to gray on right */
.vo__rule--technology {
  display: inline-block;
  height: 1px;
  width: clamp(80px, 10vw, 140px);
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 20%,
    rgba(128, 128, 128, 0.6) 100%
  ) !important; /* fade from white on left to gray on right */
  background-image: linear-gradient(
    to right,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 20%,
    rgba(128, 128, 128, 0.6) 100%
  ) !important;
  background-color: transparent !important;
}

/* Vlogs line – short with gradient fading to white on right */
.vo__rule--vlogs {
  display: inline-block;
  height: 1px;
  width: clamp(40px, 5vw, 80px);  /* much shorter than Technology/Other Favorites */
  background: linear-gradient(
    to left,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 20%,
    rgba(128, 128, 128, 0.6) 100%
  ) !important; /* fade from white on right to gray on left */
  background-image: linear-gradient(
    to left,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 20%,
    rgba(128, 128, 128, 0.6) 100%
  ) !important;
  background-color: transparent !important;
}

/* Other Favorites – gradient from white on left to gray on right */
.vo__rule--favorites {
  display: inline-block;
  height: 1px;
  width: clamp(80px, 10vw, 140px);
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 20%,
    rgba(128, 128, 128, 0.6) 100%
  ) !important;
  background-image: linear-gradient(
    to right,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 20%,
    rgba(128, 128, 128, 0.6) 100%
  ) !important;
  background-color: transparent !important;
}

.vo__roles {
  text-align: right;
  color: var(--au-ink);
  font-size: clamp(15px, 2vw, 20px);
  font-weight: 500;
  line-height: 1.3;
}

/* Logo: pure PNG, no box/border/shadow; position similar to Blaze/MA logos */
.vo__logoWrap {
  width: 100%;
  display: flex;
  justify-content: flex-end;
  margin-top: clamp(38px, 3.8vw, 56px);     /* keep current height – DO NOT CHANGE */
  margin-right: clamp(20px, 3vw, -10px);     /* moved slightly to the right */
  padding-right: 0;                          /* reset padding so it doesn't fight our transform */
  position: relative;
  transform: translateX(18px);               /* nudge logo to the RIGHT */
  will-change: transform;
}

.vo__logo {
  width: clamp(280px, 34vw, 440px);                      /* ~30% larger than before */
  aspect-ratio: 1 / 1;
  display: block;
  object-fit: contain;
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;                           /* keep it a clean PNG – user can add shadow later */
}

/* Anchor container for top-right logo area */
.vonix__topRight {
  position: relative; /* enables absolute positioning for plaque */
}

/* 100 plaque overlay */
.vonix__plaque {
  position: absolute;
  z-index: 50; /* above the face logo */
  pointer-events: none;
  user-select: none;

  /* Easy tuning controls */
  --plaq-x: 100px;   /* move right (+) / left (-) */
  --plaq-y: 280px;   /* move down (+) / up (-) */
  --plaq-w: 255px;  /* overall size */

  width: var(--plaq-w);
  height: auto;

  /* Place it slightly down and right from the logo */
  top: 0;
  right: 0;
  transform: translate(var(--plaq-x), var(--plaq-y)) rotate(4deg);
  transform-origin: top right;

  /* drop shadow */
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3)) drop-shadow(0 8px 16px rgba(0,0,0,0.2));
}

/* Remove video play icon/overlay */
.vo .media--video::before,
.vo .media--video::after,
.vo .media__play {
  display: none !important;
  content: none !important;
  pointer-events: none !important;
}

/* Placeholder tile only (no internal link/footer) */
.comingSoonTile {
  width: 100%;
  height: 100%;
  background: #111;
  color: #fff;
  display: grid;
  place-items: center;
  position: relative;
  overflow: hidden;
  border-radius: 10px;
}

.comingSoonTile__center {
  font-family: "IBM Plex Mono", "Fira Mono", monospace;
  font-size: clamp(14px, 1.6vw, 18px);
  letter-spacing: 0.06em;
  opacity: 0.95;
  text-align: center;
  padding: 16px;
}

/* ensure no play overlay appears */
.comingSoonTile .playOverlay,
.comingSoonTile .playOverlay__icon {
  display: none !important;
}

/* Disabled caption line: inherit same styling as the normal link/caption */
.vo__link--disabled,
.vo__shortLink--disabled {
  pointer-events: none;
  cursor: default;
}

/* Responsive: stack columns on small screens */
@media (max-width: 980px) {
  .vo__row1 {
    grid-template-columns: 1fr;
  }

  .vo__heading {
    justify-items: start;
  }

  .vo__logoWrap {
    justify-content: flex-start;
  }
}

/* ===== Vonix description row (under hero) ===== */
.vo__rowDesc {
  margin-top: clamp(6px, 0.8vw, 10px);   /* pull the paragraph much closer to the hero row */
}

/* Paragraph: slightly wider, but not all the way to the logo */
.vo__desc {
  max-width: 62ch;
  margin-top: -170px;
  color: var(--au-muted);
  font-size: clamp(20px, 2.6vw, 24px);
  line-height: 1.55;
}

/* ===== Generic Vonix folds ===== */
.vo__fold {
  margin-top: clamp(32px, 4vw, 48px);
  display: grid;
  grid-template-columns: 1fr;
  gap: clamp(14px, 2vw, 22px);
}

.vo__subhead {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.vo__subhead h3 {
  margin: 0;
  font-family: 'IBM Plex Serif', 'Georgia', 'Times New Roman', serif;
  font-weight: 600;
  font-size: clamp(18px, 2.4vw, 26px);
  letter-spacing: 0.02em;
}

.vo__subhead--left {
  align-items: flex-start;
}

.vo__subhead .vo__rule {
  width: clamp(80px, 7vw, 120px);
  height: 1px;
  background: var(--au-rule);
  display: inline-block;
}

/* ===== Psychology — layout tuning ===== */
.vo__psychGrid {
  display: grid;
  grid-template-columns: repeat(2, minmax(260px, 1fr));
  gap: clamp(18px, 2.4vw, 28px);
  align-items: flex-start;
}

/* Each duo is a relative container */
.vo__psychDuo {
  position: relative;
  padding-top: clamp(10px, 1vw, 14px);
}

/* MAIN horizontal video: slightly narrower to make room for the short */
.vo__psychMain {
  width: 88%; /* was effectively 100% of the column; reduce a bit */
  max-width: 88%;
  border-radius: 10px;
  box-shadow: var(--shadow);
  overflow: hidden;
  aspect-ratio: 16 / 9;
  background: #000;
}

.vo__videoEl {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Link under main psych video */
.vo__link--mini {
  display: inline-block;
  margin-top: clamp(6px, 0.8vw, 10px);
  font-size: clamp(11px, 1vw, 13px);
  font-weight: 500;
  color: var(--au-ink);
  text-decoration: none;
  border-bottom: 1px solid var(--au-rule);
}

.vo__link--mini:hover {
  opacity: 0.75;
}

.vo__link--mini:visited {
  color: var(--au-ink);
}

/* ===== Psychology shorts: stacked video + tiny link ===== */

/* Container for each short: let content flow vertically */
/* ===== Psychology shorts: short + link ABOVE without moving the video ===== */
.vo__psychShort {
  position: absolute;
  top: clamp(-16px, -1.6vw, -10px);
  right: clamp(-6px, 0.5vw, 10px);
  width: clamp(110px, 20vw, 150px);
  display: flex;
  flex-direction: column;
  align-items: stretch;
  overflow: visible; /* allow the link to sit outside if needed */
}

/* Link container: absolutely positioned ABOVE the short video, centered */
.vo__psychShort .vo__linkWrap {
  position: absolute;
  bottom: 100%;       /* place it just above the short container */
  left: 50%;          /* horizontally center relative to the short */
  transform: translateX(-50%);
  margin: 0;
  padding: 0;
  align-items: center;
}

/* Remove the special-case margin overrides for the first duo */
.vo__psychDuo:first-child .vo__psychShort .vo__linkWrap {
  margin: 0;
}

/* Short video itself remains exactly where it is */
.vo__psychShort .media,
.vo__psychShort .media.media--short {
  width: 100%;
  aspect-ratio: 9 / 16;
  border-radius: 10px;
  box-shadow: var(--shadow);
  background: #000;
  overflow: hidden;
}

.vo__shortVideo {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Short link: small centered label above the short, solid underline */
.vo__shortLink {
  position: static;           /* inside the absolutely-positioned linkWrap */
  display: inline-block;
  font-size: 8px;
  line-height: 1.3;
  text-align: center;
  color: var(--au-ink);
  text-decoration: none;
  border-bottom: 1px solid var(--au-rule);
  padding: 0;
  background: transparent;
  border-radius: 0;
}

.vo__shortLink:hover {
  opacity: 0.75;
}

.vo__shortLink:visited {
  color: var(--au-ink);
}

/* ===== Technology & Vlogs common video grid ===== */
.vo__videoGrid {
  display: flex;
  flex-wrap: wrap;
  gap: var(--au-gap);
  justify-content: center;       /* center both rows */
  align-items: flex-start;
  margin-top: clamp(12px, 1.6vw, 18px);
}

/* Each card: roughly 1/3 width on desktop */
.vo__videoCard {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  flex: 0 1 calc((100% - 2 * var(--au-gap)) / 3);
  max-width: calc((100% - 2 * var(--au-gap)) / 3);
}

/* Larger card size, 16:9 */
.vo__videoCard .media {
  width: 100%;
  aspect-ratio: 16 / 9;
  border-radius: 10px;
  box-shadow: var(--shadow);
  overflow: hidden;
  background: #000;
}

/* Mini link under each card (same as AU/Blaze link style) */
.vo__videoCard .vo__link--mini {
  display: inline-block;
  margin-top: clamp(6px, 0.8vw, 10px);
  font-size: clamp(11px, 1vw, 13px);
  font-weight: 500;
  color: var(--au-ink);
  text-decoration: none;
  border-bottom: 1px solid var(--au-rule);
}

.vo__videoCard .vo__link--mini:hover {
  opacity: 0.75;
}

.vo__videoCard .vo__link--mini:visited {
  color: var(--au-ink);
}

/* Move Technology subhead toward the right */
.vo__technology .vo__subhead {
  align-items: flex-end;
  text-align: right;
}

/* ===== Other Favorites — right-aligned label ===== */
.vo__favorites .vo__subhead {
  align-items: flex-end;
  text-align: right;
}

@media (max-width: 980px) {
  .vo__psychGrid {
    grid-template-columns: 1fr;
  }

  /* On mobile, keep the short attached but a bit tighter */
  .vo__psychShort {
    top: clamp(-10px, -1vw, -6px);
    right: clamp(6px, 2vw, 14px);
    width: clamp(90px, 32vw, 140px);
  }

  .vo__shortLink {
    font-size: 7px;
  }
}

/* On smaller screens, stack the videos */
@media (max-width: 900px) {
  .vo__videoGrid {
    justify-content: center;
  }

  .vo__videoCard {
    flex: 0 1 100%;
    max-width: 100%;
  }
}

/* DEBUG: Uncomment to find overflow elements */
/* .vo * { outline: 1px solid rgba(255,0,0,0.15); } */

/* Mobile-only fixes (<= 600px) */
@media (max-width: 600px) {
  /* A) Hard stop horizontal overflow on Vonix page ONLY */
  .vo,
  section#vonix {
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
    position: relative;
    box-sizing: border-box;
    touch-action: pan-y;
  }

  /* B) IMPORTANT: remove section padding so shadows/plaque aren't clipped by a "white border" */
  section#vonix.vo {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* 2) Ensure all children cannot exceed viewport width */
  .vo * {
    box-sizing: border-box;
  }

  /* Safe rule for media elements inside Vonix */
  .vo img,
  .vo video,
  .vo iframe,
  .vo canvas,
  .vo svg {
    max-width: 100%;
    height: auto;
  }

  /* C) Put padding on the inner content blocks instead (keeps equal whitespace L/R) */
  .vo__row1,
  .vo__rowDesc,
  .vo__fold {
    width: 100%;
    max-width: 520px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 16px;
    padding-right: 16px;
    box-sizing: border-box;
  }

  /* D) Center hero media and grids so they don't drift right */
  .vo__videoBlock,
  .vo__heroMedia,
  .vo__videoGrid,
  .vo__videoCard {
    width: 100%;
    max-width: 520px;
    margin-left: auto;
    margin-right: auto;
    box-sizing: border-box;
  }

  /* Hero row: ensure single column */
  .vo__row1 {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
  }

  .vo__heroVideo {
    width: 100%;
    overflow: hidden;
  }

  /* Heading block constrained */
  .vo__heading {
    width: 100%;
    max-width: 100%;
    justify-items: end;
    text-align: right;
    align-items: flex-end;
  }

  /* Right-align title, rule, and roles on mobile */
  .vo__title,
  .vo__roles {
    text-align: right;
  }

  .vo__rule {
    align-self: flex-end;
  }

  /* Logo wrap - remove transforms that cause overflow */
  .vo__logoWrap {
    width: 100%;
    max-width: 100%;
    margin-left: 0 !important;
    margin-right: 0 !important;
    transform: none !important;
    justify-content: flex-start;
  }

  .vo__logo {
    width: 100%;
    max-width: min(280px, 80vw);
    height: auto;
  }

  /* =========================
     MOBILE — PSYCHOLOGY OVERLAY (desktop-style)
     Main video shrinks to make room, short overlays top-right
     ========================= */
  .vo {
    --vo-psych-short-w: min(118px, 34vw);
    --vo-psych-gap: 14px;
  }

  /* Keep Psychology section single-column, but each duo has overlay behavior */
  .vo__psychGrid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 18px;
    width: 100%;
    max-width: 100%;
  }

  /* Each duo becomes the positioning context */
  .vo__psychDuo {
    position: relative;
    width: 100%;
    max-width: 100%;
    overflow: visible;
    padding-top: 10px;
  }

  /* Main horizontal video: leave space on the right for the short */
  .vo__psychMain {
    width: calc(100% - var(--vo-psych-short-w) - var(--vo-psych-gap));
    max-width: calc(100% - var(--vo-psych-short-w) - var(--vo-psych-gap));
    margin-left: 0;
    margin-right: auto;
    border-radius: 10px;
    overflow: hidden;
    aspect-ratio: 16 / 9;
  }

  /* Ensure the link under the main video doesn't force overflow */
  .vo__psychDuo > .vo__linkWrap {
    width: 100%;
    max-width: 100%;
  }

  /* Short: overlay top-right of the duo (like desktop) */
  .vo__psychShort {
    position: absolute !important;
    top: -10px !important;
    right: 0 !important;
    width: var(--vo-psych-short-w) !important;
    max-width: var(--vo-psych-short-w) !important;
    margin: 0 !important;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    overflow: visible;
  }

  /* Short media box */
  .vo__psychShort .media,
  .vo__psychShort .media.media--short,
  .vo__psychShortMedia {
    width: 100%;
    aspect-ratio: 9 / 16;
    border-radius: 10px;
    overflow: hidden;
  }

  /* Put the short link ABOVE the short, centered (same idea as desktop) */
  .vo__psychShort .vo__linkWrap {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: max-content;
    max-width: 90vw;
    margin: 0 0 6px 0;
    align-items: center;
  }

  /* Make the short caption readable but tiny */
  .vo__shortLink {
    font-size: 8px;
    line-height: 1.2;
    text-align: center;
    white-space: nowrap;
    max-width: 90vw;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Safety: ensure nothing in Psychology can exceed the viewport width */
  .vo__psychGrid,
  .vo__psychDuo,
  .vo__psychMain,
  .vo__psychShort {
    max-width: 100%;
  }

  /* D) Video grid: single column, centered, max-width 520px */
  .vo__videoGrid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 14px;
    width: 100%;
    max-width: 520px;
    margin-left: auto;
    margin-right: auto;
    overflow: hidden;
  }

  .vo__videoCard {
    width: 100%;
    max-width: 520px;
    margin-left: auto;
    margin-right: auto;
    flex: none;
    align-items: stretch;
  }

  /* Make the actual media inside cards smaller-looking while still responsive */
  .vo__videoCard .media,
  .vo__heroMedia {
    width: 100%;
    border-radius: 10px;
  }

  /* Description row - ensure no negative margin causes overflow */
  .vo__rowDesc {
    width: 100%;
    max-width: 520px;
  }

  .vo__desc {
    width: 100%;
    max-width: 100%;
    margin-top: 0;
    margin-left: 0;
    margin-right: 0;
  }

  /* G) Ensure links can't force sideways overflow */
  .vo__linkWrap {
    width: 100%;
    max-width: 100%;
  }
  .vo__link,
  .vo__shortLink {
    max-width: 100%;
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  /* E) Plaque/Logo clipping fix: Force overflow visible to prevent shadow/plaque clipping */
  .vonix__topRight,
  .vo__logoWrap {
    overflow: visible !important;
  }

  /* Keep logoWrap from causing overflow via transforms */
  .vo__logoWrap {
    transform: none !important;
  }

  /* F) Plaque: smaller + safely positioned (no off-screen, no clipping) */
  .vonix__plaque {
    width: min(190px, 52vw) !important;
    height: auto !important;
    top: 8px !important;
    left: 8px !important;
    right: auto !important;
    transform: translate(-30px, -10px) rotate(4deg) !important;
    transform-origin: top left !important;
  }

  /* Ensure no element uses negative margins that expand viewport */
  .vo * {
    min-width: 0;
  }

}

/* Shift entire Vonix section left on mobile */
@media (max-width: 600px) {
  /* Shift the entire Vonix section slightly left WITHOUT changing sizing/layout */
  section#vonix.vo {
    transform: translateX(6px) !important;
  }

  /* Keep the internal centered layout, just moved left as a unit */
  section#vonix.vo .vo__row1,
  section#vonix.vo .vo__rowDesc,
  section#vonix.vo .vo__fold {
    margin-left: auto !important;
    margin-right: auto !important;
  }

  /* Plaque: nudge left a bit more so it never kisses the edge */
  section#vonix.vo .vonix__plaque {
    transform: translate(-44px, -10px) rotate(4deg) !important;
  }
}

/* Vonix MOBILE plaque + profile image adjustment */
@media (max-width: 600px) {
  /* PLAQUE: move left 30px, down 10px, scale 10% smaller */
  section#vonix.vo .vonix__plaque {
    transform: translate(181px, 35px) rotate(4deg) scale(0.9) !important;
  }

  /* PROFILE IMAGE (Vonix face/logo):
     - Make 20% smaller
     - Move 10px left and 10px up */
  section#vonix.vo .vo__logo {
    transform: translate(-60px, -90px) scale(0.8) !important;
    transform-origin: center center;
  }

  /* Pull description + everything below it UP by ~50px */
  section#vonix.vo .vo__rowDesc {
    margin-top: -90px !important;
  }
}

/* =========================================================
   VONIX — MOBILE PSYCHOLOGY RATIO TUNING (ONLY)
   Goal:
   - main horizontal videos ~20% bigger
   - shorts ~15% smaller
   - keep the short "hanging" top-right
   - keep NO horizontal scrolling
   ========================================================= */
@media (max-width: 600px) {
  /* Keep overflow locked */
  section#vonix,
  .vo {
    overflow-x: clip !important;
  }

  /* Psychology grid stays 1 column */
  .vo__psychGrid {
    grid-template-columns: 1fr !important;
  }

  /* Each duo: allow the short to overlap */
  .vo__psychDuo {
    position: relative !important;
    overflow: visible !important;
    padding-top: 0 !important;
  }

  /* === MAIN (horizontal) videos: ~20% bigger ===
     Previously you likely reduced these to create room.
     Bring them back up but keep some breathing room for the short.
  */
  .vo__psychMain {
    width: 92% !important;       /* bigger than before */
    max-width: 92% !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  /* === SHORT container: ~15% smaller + anchored top-right === */
  .vo__psychShort {
    position: absolute !important;
    top: -14px !important;
    right: 10px !important;

    /* ~15% smaller than the typical mobile short size */
    width: min(118px, 30vw) !important;

    margin: 0 !important;
    z-index: 5 !important;
  }

  /* Keep the short link above the short, centered */
  .vo__psychShort .vo__linkWrap {
    position: absolute !important;
    bottom: 100% !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    width: max-content !important;
    max-width: 90vw !important;
    align-items: center !important;
  }

  /* Short media itself */
  .vo__psychShort .media,
  .vo__psychShort .media.media--short,
  .vo__psychShortMedia {
    width: 100% !important;
    aspect-ratio: 9 / 16 !important;
    overflow: hidden !important;
  }

  /* Give a little extra bottom spacing so the next section
     (Technology header) doesn't collide with the short */
  .vo__psychology {
    padding-bottom: 18px !important;
  }
}

/* =========================================================
   VONIX — MOBILE PSYCHOLOGY SHORT SHRINK (FINAL TUNE)
   Goal:
   - Keep SAME top position (Y)
   - Make BOTH shorts ~20% smaller vertically + horizontally
   ========================================================= */
@media (max-width: 600px) {
  /* Shrink the short container itself */
  .vo__psychShort {
    width: min(94px, 24vw) !important;  /* ~20% smaller than previous */
  }

  /* Ensure the video inside scales with container */
  .vo__psychShort .media,
  .vo__psychShort .media.media--short,
  .vo__psychShortMedia {
    width: 100% !important;
    height: auto !important;
    aspect-ratio: 9 / 16 !important;
  }
}

/* =========================================================
   VONIX — MOBILE PSYCHOLOGY
   Move SECOND (bottom) duo down by 50px ONLY
   ========================================================= */
@media (max-width: 600px) {
  /* Push entire second psychology pair downward */
  .vo__psychGrid .vo__psychDuo:nth-child(2) {
    margin-top: 15px !important;
  }
}

/* =========================================================
   VONIX — MOBILE
   Pull Technology + everything below Psychology UP by 25px
   ========================================================= */
@media (max-width: 600px) {
  /* Move Technology section upward (everything after follows naturally) */
  .vo__technology {
    margin-top: calc(clamp(32px, 4vw, 48px) - 40px) !important;
  }
}

/* ===========================
   Mac desktop-only Vonix shrink + no horizontal scroll
   =========================== */
.os-mac .vp-main {
  overflow-x: hidden !important;
}

.os-mac body {
  overflow-x: hidden !important;
}

.os-mac #vonix {
  max-width: 100%;
  overflow-x: hidden;
}

/* Extra safety: never allow child media to exceed container width */
.os-mac .vo img,
.os-mac .vo video,
.os-mac .vo iframe {
  max-width: 100% !important;
}

/* Mac-only Vonix label tweak */
.os-mac #vonix .vo__heading {
  transform: translateX(-20px) scale(1.1);
  transform-origin: top right;
}

/* Mac-only: profile image only (do NOT touch plaque transform) */
.os-mac #vonix .vo__logoWrap .vo__logo {
  transform: scale(0.96);
  transform-origin: top right;
}

/* ===========================
   Mac desktop fine-tuning — Vonix only
   =========================== */

.os-mac #vonix .vo__heading {
  position: relative;
  left: -70px;
}

/* Profile image + plaque group */
.os-mac #vonix .vo__logoWrap,
.os-mac #vonix .vonix__topRight {
  position: relative;
  left: 50px;
}

/* Description paragraph spacing */
.os-mac #vonix .vo__rowDesc {
  margin-top: 100px;
}

/* Safety: prevent these nudges from causing overflow */
.os-mac #vonix {
  overflow-x: hidden;
}

/* ===========================
   Mac desktop: add right gutter to Vonix LOWER sections
   (keeps left X pinned, creates right whitespace, shrinks cards)
   =========================== */

.os-mac #vonix {
  overflow-x: hidden;
}

/* Only affect the folds below the description */
.os-mac #vonix .vo__fold {
  box-sizing: border-box;
  padding-right: clamp(48px, 6vw, 96px); /* the "white space" on the right */
  padding-left: 0;                      /* keep left X exactly the same */
  max-width: 100%;
}

/* Make sure the main grids respect the new available width */
.os-mac #vonix .vo__psychGrid,
.os-mac #vonix .vo__videoGrid,
.os-mac #vonix .vo__psychDuo,
.os-mac #vonix .vo__videoCard {
  max-width: 100%;
  box-sizing: border-box;
}

/* ===========================
   Mac-only: plaque position nudge (NO scaling)
   =========================== */
.os-mac #vonix .vonix__plaque {
  /* move right (+) and down (+) by adjusting variables */
  --plaq-x: 95px;  /* was 100px */
  --plaq-y: 275px;  /* was 280px */

  /* ensure no other Mac transforms override the base */
  transform: translate(var(--plaq-x), var(--plaq-y)) rotate(4deg) !important;
}

/* =========================
   WINDOWS ONLY — Vonix fixes
   ========================= */
@media (min-width: 981px) {
  /* Description paragraph: move DOWN ~20px */
  :not(.os-mac) #vonix .vo__rowDesc {
    margin-top: 80px;
  }

  /* Profile picture + plaque group: move LEFT ~60px */
  :not(.os-mac) #vonix .vo__logoWrap,
  :not(.os-mac) #vonix .vonix__topRight {
    transform: translateX(-60px);
  }
}

/* ===========================
   Mac desktop — Vonix logo+plaque move UP 20px
   (Windows + mobile unchanged)
   =========================== */
@media (min-width: 981px) {
  .os-mac #vonix .vo__logoWrap {
    top: -60px;
  }
}

@media (max-width: 600px) {
  /* Vonix mobile: add bottom breathing room to prevent iOS overscroll edge-case */
  section#vonix.vo {
    padding-bottom: max(90px, env(safe-area-inset-bottom, 0px)) !important;
  }

  /* Extra "real" spacer at the end of Vonix content */
  section#vonix.vo::after {
    content: "";
    display: block;
    height: max(70px, env(safe-area-inset-bottom, 0px));
  }

  /* Vonix mobile: Vlogs LAST video crop fix (content sits too high) */
  #vonix .vo__videoGrid--vlogs .vo__videoCard:nth-child(5) video,
  #vonix .vo__videoGrid--vlogs .vo__videoCard:nth-child(5) .vo__videoEl {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    object-position: 50% 70% !important; /* pushes video DOWN inside frame */
    display: block !important;
  }

  /* Force Psychology + Vlogs subhead underline to left align on mobile */
  #vonix .vo__psychology .vo__subhead,
  #vonix .vo__vlogs .vo__subhead {
    align-items: flex-start !important;
    text-align: left !important;
  }

  #vonix .vo__psychology .vo__subhead .vo__rule,
  #vonix .vo__vlogs .vo__subhead .vo__rule {
    margin-left: 0 !important;
    margin-right: auto !important;
    align-self: flex-start !important;
  }
}

/* ===========================
   Mac desktop-only: Vonix hero video size adjustment
   ========================= */
@media (min-width: 981px) {
  html.os-mac #vonix .vo__heroMedia {
    /* Nudge hero container to match the other pages on Mac */
    width: 100%;
    max-width: 100%;
    /* subtle scale-down to match Blaze/MA/AU hero sizing */
    transform: scale(0.965);
    transform-origin: top left;
  }

  html.os-mac #vonix .vo__heroVideo {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  html.os-mac #vonix .vo__videoBlock {
    overflow: hidden;
  }
}

/* ===========================
   Desktop-only: Psychology duo overlay stacking fix
   ========================= */
@media (min-width: 601px) {
  /* STEP 1: Duo is the stacking context anchor */
  #vonix .vo__psychDuo {
    position: relative;
    isolation: isolate; /* creates clean stacking context so z-index works predictably */
  }

  /* STEP 2: Main horizontal video should be below */
  #vonix .vo__psychDuo .vo__psychMain {
    position: relative;
    z-index: 1;
  }

  /* STEP 2: Overlay short must be above */
  #vonix .vo__psychDuo .vo__psychShort {
    position: absolute;   /* keep existing overlay positioning */
    z-index: 5;
  }

  /* STEP 2: The short's media box also above (extra safety) */
  #vonix .vo__psychDuo .vo__psychShortMedia,
  #vonix .vo__psychDuo .vo__psychShort .media {
    position: relative;
    z-index: 6;
  }

  /* STEP 2: The short link above everything (optional but safe) */
  #vonix .vo__psychDuo .vo__psychShort .vo__linkWrap {
    position: absolute; /* already positioned */
    z-index: 7;
  }

  /* STEP 3: Prevent "video element on top" issues (desktop only safety) */
  #vonix .vo__psychMain video,
  #vonix .vo__psychMain .vo__videoEl {
    position: relative;
    z-index: 1;
  }
}

/* ===========================
   Windows desktop-only: Vonix content lift (5px up)
   ========================= */
@media (min-width: 601px) {
  /* Define Windows-only lift variable */
  html.os-win #vonix,
  html.os-other #vonix {
    --vo-win-lift: -7px;
  }

  /* Apply lift to everything EXCEPT hero media and heading cluster */
  html.os-win #vonix .vo__linkWrap.heroLinkWrap,
  html.os-other #vonix .vo__linkWrap.heroLinkWrap,
  html.os-win #vonix .vo__rowDesc,
  html.os-other #vonix .vo__rowDesc,
  html.os-win #vonix .vo__desc,
  html.os-other #vonix .vo__desc,
  html.os-win #vonix .vo__fold,
  html.os-other #vonix .vo__fold {
    position: relative;
    top: var(--vo-win-lift);
  }

  /* Ensure hero media and heading never get moved */
  html.os-win #vonix .vo__heroMedia,
  html.os-other #vonix .vo__heroMedia,
  html.os-win #vonix .vo__videoBlock,
  html.os-other #vonix .vo__videoBlock,
  html.os-win #vonix .vo__heading,
  html.os-other #vonix .vo__heading {
    top: auto !important;
  }
}

