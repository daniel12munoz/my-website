@import url('./austin.css');

/* Nudge Blaze section upward to align with AU + MA */
.bl {
  color: var(--au-ink);
  position: relative;
  margin-top: -28px
  ;  /* move Blaze UP slightly */
}

@media (max-width: 980px) {
  .bl {
    margin-top: 0;   /* let mobile breathe */
  }
}

/* Hero layout — mobile-first; desktop uses grid-areas (no display:contents / transform hacks) */
.bl__row1 {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-areas:
    "hero"
    "link"
    "heading"
    "desc";
  gap: var(--au-gap);
  margin-bottom: clamp(16px, 3vw, 28px);
}

@media (min-width: 601px) {
  #blaze .bl__row1 {
    grid-template-columns: 0.56fr 0.44fr;
    grid-template-areas:
      "hero heading"
      "link heading"
      "desc heading";
    align-items: start;
  }
  #blaze .bl__heroMedia { grid-area: hero; }
  #blaze .bl__heroLink { grid-area: link; }
  #blaze .bl__heading { grid-area: heading; align-self: start; justify-self: end; }
  #blaze .bl__desc { grid-area: desc; }
}

/* Hero video container */
.bl__heroMedia {
  width: 100%;
  aspect-ratio: 16 / 9;
  border-radius: 10px;
  box-shadow: var(--shadow);
  background: #000;
  overflow: hidden;
  position: relative;
  grid-area: hero;
}

.bl__heroVideo {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
}

.bl__desc {
  margin: 0;
  margin-top: clamp(6px, 0.8vw, 10px);
  color: var(--au-muted);
  max-width: 62ch;
  font-size: clamp(20px, 2.6vw, 24px);
  line-height: 1.55;
  grid-area: desc;
}

.bl__heroLink {
  grid-area: link;
}

/* Heading / roles / logo (match Marketing Alliance + AU) */
.bl__heading {
  display: grid;
  justify-items: end;
  gap: 10px;
  grid-area: heading;
}

.bl__title {
  margin: 0;
  font-family: 'IBM Plex Serif', 'Georgia', 'Times New Roman', serif;
  font-size: clamp(28px, 4.6vw, 44px);
  line-height: 1.1;
}

/* Base Blaze rule */
.bl__rule {
  display: inline-block;
  height: 1px;
}

/* You can keep widths you already set or standardize them: */
.bl__rule--main {
  width: clamp(54px, 7.2vw, 96px); /* 40% shorter than before */
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 15%,
    rgba(0, 0, 0, 0.2) 100%
  ); /* fade from white on left to gray on right */
}

.bl__rule--shorts {
  width: clamp(60px, 6vw, 100px);
  background: linear-gradient(
    to left,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 15%,
    rgba(0, 0, 0, 0.2) 100%
  ); /* fade from white on right to gray on left */
}

.bl__rule--long {
  width: clamp(60px, 6vw, 100px);
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) 15%,
    rgba(0, 0, 0, 0.2) 100%
  ); /* fade from white on left to gray on right */
}

.bl__roles {
  text-align: right;
  color: var(--au-ink);
  font-size: clamp(15px, 2vw, 20px);
  font-weight: 500;
  line-height: 1.3;
}

/* Logo same as Marketing Alliance logo size/position */
.bl__logoWrap {
  width: 100%;
  display: flex;
  justify-content: center;
  margin-top: clamp(18px, 2vw, 26px);
  position: relative;
  left: -60px;    /* was 65px; moved LEFT by 60px to fix Windows baseline */
  top: 60px;
}

.bl__logo {
  width: clamp(220px, 28vw, 340px);
  height: auto;
  display: block;
  object-fit: contain;
  box-shadow: none !important;
  border: none !important;
  background: none !important;
  filter: drop-shadow(0 4px 10px rgba(0,0,0,0.25));
}

/* Subhead + folds (Shorts/Videos) */
.bl__fold {
  margin-top: clamp(18px, 2.6vw, 28px);
  display: grid;
  grid-template-columns: 1fr;
  gap: calc(var(--au-gap) * 1.25);
}

/* Shorts / Videos spacing — stable (no pull-up calc); desktop tune via variables */
.bl__shortsSection {
  position: relative;
  margin-top: 32px;
  margin-bottom: 40px;
}

.bl__videosSection {
  position: relative;
  margin-top: clamp(64px, 7vw, 96px);
}

@media (min-width: 601px) {
  #blaze {
    --blaze-gap-after-hero: 32px;
    --blaze-gap-between-sections: 26px;
  }
  #blaze .bl__shortsSection { margin-top: calc(var(--blaze-gap-after-hero) + 15px); }
  #blaze .bl__videosSection { margin-top: calc(var(--blaze-gap-between-sections) + 70px); }
}

.bl__subhead {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.bl__subhead h3 {
  margin: 0;
  font-size: clamp(18px, 3vw, 28px);
  font-family: 'IBM Plex Serif', 'Georgia', 'Times New Roman', serif;
  font-weight: 600;
  letter-spacing: 0.2px;
}

.bl__subhead--left {
  align-items: flex-start;
  text-align: left;
}

.bl__subhead--right {
  align-items: flex-end;
  text-align: right;
}


/* Shared link styling (match Austin Underground) */
.bl__linkWrap {
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
  margin-top: clamp(6px, 0.6vw, 8px);
  width: max-content;
}

.bl__link {
  display: inline-block;               /* critical: link width = text width */
  margin: 0;
  color: var(--au-ink);
  text-decoration: none;
  font-size: clamp(12px, 1vw, 14px);  /* keep same font size-style as current design */
  font-weight: 500;
}

.bl__link:hover {
  opacity: 0.8;
}

.bl__linkRule {
  display: block;
  height: 1px;
  width: 100%; /* match the full width of the link text within the flex container */
  align-self: stretch; /* ensure it stretches to match link width */
  background: rgba(0, 0, 0, 0.3) !important; /* solid gray, no fade, no gradient */
  background-image: none !important; /* prevent any gradients */
  opacity: 1 !important; /* ensure no opacity inheritance */
  margin-top: 2px;
}

/* Blaze hero link - match Austin Underground hero link exactly */
.bl__heroLink .bl__linkWrap {
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
  margin-top: 10px;
  width: max-content;
}

.bl__heroLink .bl__link {
  position: relative;
  display: inline-block;
  margin: 0;
  color: var(--au-ink);
  text-decoration: none;
  font-size: clamp(14px, 1.1vw, 16px);
}

.bl__heroLink .bl__link:hover {
  opacity: 0.75;
}

.bl__heroLink .bl__linkRule {
  display: block;
  height: 1px;
  width: 100%; /* match the full width of the link text within the flex container */
  align-self: stretch; /* ensure it stretches to match link width */
  background: rgba(0, 0, 0, 0.3) !important; /* solid gray, no fade, no gradient */
  background-image: none !important; /* prevent any gradients */
  opacity: 1 !important; /* ensure no opacity inheritance */
  margin-top: 2px;
}

/* Smaller font size for links under Shorts only */
.bl__shortCard .bl__link {
  font-size: 0.70rem;     /* slightly smaller */
  line-height: 0.98rem;   /* keeps underline tight and clean */
}

/* Shorts grid with staircase effect */
.bl__shortsGrid {
  display: grid;
  grid-template-columns: repeat(5, minmax(140px, 200px)); /* 5 per row */
  gap: clamp(14px, 2vw, 22px);
  justify-content: center;
}

.bl__shortCard {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.bl__shortMedia {
  width: 100%;
  aspect-ratio: 9 / 16;
  border-radius: 10px;
  box-shadow: var(--shadow);
  background: #000;
  overflow: hidden;
}

.bl__shortVideo {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
}

/* Staircase offsets: repeat every 5 items */
.bl__shortCard:nth-child(5n + 1) {
  transform: translateY(0);
}
.bl__shortCard:nth-child(5n + 2) {
  transform: translateY(8px);
}
.bl__shortCard:nth-child(5n + 3) {
  transform: translateY(16px);
}
.bl__shortCard:nth-child(5n + 4) {
  transform: translateY(24px);
}
.bl__shortCard:nth-child(5n + 5) {
  transform: translateY(32px);
}

/* Videos grid (copy AU Interviews layout) */
.bl__videoGrid {
  display: flex;
  flex-wrap: wrap;
  gap: var(--au-gap);
  justify-content: center;
  align-items: flex-start;
  margin-top: clamp(12px, 1.8vw, 18px);
}

.bl__videoBox {
  flex: 0 1 calc((100% - 2 * var(--au-gap)) / 3);
  max-width: calc((100% - 2 * var(--au-gap)) / 3);
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.bl__videoMedia {
  width: 100%;
  aspect-ratio: 16 / 9;
  border-radius: 10px;
  box-shadow: var(--shadow);
  background: #000;
  overflow: hidden;
}

.bl__videoPlayer {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Second row center (v25, v26) naturally centered via flex */

/* Remove video play icon/overlay */
.bl .media--video::before,
.bl .media--video::after,
.bl .media__play {
  display: none !important;
  content: none !important;
  pointer-events: none !important;
}

@media (max-width: 900px) {
  .bl__videoBox {
    flex-basis: 100%;
    max-width: 100%;
  }

  .bl__shortsGrid {
    grid-template-columns: repeat(3, minmax(140px, 1fr));
  }
}

@media (max-width: 600px) {
  .bl__shortsGrid {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 14px !important;
    justify-content: center;
  }

  #blaze .bl__row1 {
    grid-template-columns: 1fr;
    grid-template-areas:
      "hero"
      "link"
      "heading"
      "desc";
    gap: var(--au-gap);
  }
  #blaze .bl__heroMedia { grid-area: hero; }
  #blaze .bl__heroLink { grid-area: link; }
  #blaze .bl__heading { grid-area: heading; }
  #blaze .bl__desc { grid-area: desc; }

  /* Mobile: right-align title, rule, and roles */
  .bl__heading {
    justify-items: end;
    text-align: right;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
  }

  .bl__title,
  .bl__roles {
    text-align: right;
  }

  /* Ensure paragraph remains left-aligned */
  .bl__desc {
    text-align: left;
  }

  /* Scale logo smaller on mobile without affecting layout */
  #blaze {
    --blaze-logo-scale: 0.95;
  }

  #blaze .bl__logo {
    transform: scale(var(--blaze-logo-scale));
    transform-origin: top center;
    display: block;
  }
}

/* Mobile-only: prevent horizontal scroll */
@media (max-width: 600px) {
  /* Global-ish safety (mobile only): prevents any section from enabling sideways swipe */
  html, body {
    overflow-x: hidden;
  }

  /* App wrappers (these exist in your DOM: .App and vp-main) */
  .App,
  .vp-main,
  main {
    overflow-x: hidden;
    max-width: 100%;
  }

  /* Section locks (cover BOTH id + class cases so it works even if your ids differ) */
  section#blaze,
  .blaze {
    overflow-x: hidden;
    max-width: 100%;
    box-sizing: border-box;
    touch-action: pan-y;
  }

  /* Media safety inside those sections */
  section#blaze img, section#blaze video, section#blaze iframe,
  .blaze img, .blaze video, .blaze iframe {
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* (1) Shift Blaze content RIGHT ~20px without breaking layout */
  #blaze.bl {
    padding-left: 14px !important; /* was 20px; net shift LEFT by ~4px */
    padding-right: 0 !important;
    overflow-x: clip !important;
  }

  /* Make sure inner grids don't create sideways overflow */
  #blaze * {
    box-sizing: border-box;
    min-width: 0;
  }

  /* (2) Logo position fix on mobile:
     currently .bl__logoWrap has left:65px and top:60px (desktop rule).
     On mobile we want ~50px left and ~50px up from current. */
  #blaze .bl__logoWrap {
    left: -1px !important;  /* 65px -> 15px (moves LEFT ~50px) */
    top: -2px !important;   /* 60px -> 10px (moves UP ~50px) */
  }

  /* Keep logo responsive and prevent overflow */
  #blaze .bl__logo {
    max-width: min(280px, 80vw);
  }

  /* Paragraph: keep left edge, prevent right-edge clipping on iPhone SE */
  #blaze .bl__desc {
    /* Keep left edge exactly where it is, but prevent right-edge clipping */
    max-width: none !important;
    width: calc(100% - 10px) !important; /* tiny safety gutter for iPhone SE */
    padding-right: 10px !important;      /* ensures last character never clips */
    box-sizing: border-box;
    overflow-wrap: break-word;
    word-break: normal;
  }

  /* (3) Mobile stair-step: right column slightly lower */
  /* Optional safety: prevent any leftover transform from earlier rules */
  #blaze .bl__shortCard {
    transform: none !important;
  }

  /* Mobile staircase: push right column down */
  #blaze .bl__shortCard:nth-child(2n) {
    margin-top: 10px !important;
  }

  /* Remove the old 5-column staircase transforms from desktop so they don't interfere on mobile */
  #blaze .bl__shortCard:nth-child(5n + 1),
  #blaze .bl__shortCard:nth-child(5n + 2),
  #blaze .bl__shortCard:nth-child(5n + 3),
  #blaze .bl__shortCard:nth-child(5n + 4),
  #blaze .bl__shortCard:nth-child(5n + 5) {
    transform: none !important;
  }

  /* Ensure each short fills its grid cell and looks centered */
  #blaze .bl__shortMedia {
    width: 100%;
  }

  /* Blaze mobile: SHORTS link text slightly smaller (shorts only, not long-form) */
  #blaze .bl__shortsGrid .bl__shortCard .bl__link {
    font-size: 0.535rem !important;
    line-height: 0.95rem !important;
  }

  /* (4) Bottom whitespace like Vonix */
  #blaze {
    padding-bottom: 210px !important; /* ~50% more than 140 */
  }

  /* =========================================
     BLAZE — MOBILE ONLY
     Move long-form videos section UP 15px
     (does NOT affect desktop)
  ========================================= */
  #blaze .bl__videosSection {
    position: relative !important;
    top: -20px !important;
  }
}

/* ===========================
   Mac desktop: add right gutter (whitespace) without shifting left
   =========================== */

.os-mac body {
  overflow-x: hidden;
}

/* ---- Blaze ---- */
.os-mac #blaze {
  overflow-x: hidden;
}

.os-mac #blaze .bl__row1,
.os-mac #blaze .bl__fold,
.os-mac #blaze .bl__videoGrid,
.os-mac #blaze .bl__shortGrid,
.os-mac #blaze .bl__content {
  box-sizing: border-box;
  padding-right: clamp(18px, 2.5vw, 38px);
  padding-left: 0;
  max-width: 100%;
}

/* Safety: inner media/grids respect the new width */
.os-mac #blaze img,
.os-mac #blaze video,
.os-mac #blaze iframe {
  max-width: 100%;
}

/* Mac-only Blaze logo nudge */
.os-mac #blaze .bl__logoWrap {
  position: relative;
  left: -5px;
}

/* Desktop: heading alignment (grid-areas handle placement; no transform) */
@media (min-width: 601px) {
  #blaze .bl__heading {
    display: grid !important;
    justify-items: end !important;
    align-items: start !important;
    text-align: right !important;
    margin-top: 0 !important;
    gap: 10px !important;
  }
  #blaze .bl__rule { justify-self: end !important; }
  #blaze .bl__roles { text-align: right !important; }
  #blaze .bl__logoWrap { justify-self: end !important; margin-left: auto !important; }
  #blaze .bl__heroMedia { margin-bottom: clamp(8px, 1vw, 12px); }
  #blaze .bl__heroLink .bl__linkWrap { margin-bottom: clamp(6px, 0.8vw, 10px); }
}

/* =========================
   Blaze Desktop: Clean flow below paragraph
   (Mac + Windows)
   ========================= */
@media (min-width: 601px) {
  #blaze {
    --bl-gap-after-paragraph: 28px;  /* white space between paragraph and Shorts */
    --bl-gap-between-sections: 26px; /* white space between Shorts and Long-form Videos */
    --bl-bottom-gutter: 60px;        /* small white space at very bottom */
  }

  /* Ensure normal flow (no transforms) */
  #blaze .bl__fold,
  #blaze .bl__shortsSection,
  #blaze .bl__videosSection,
  #blaze .bl__videoGrid {
    transform: none !important;
    top: auto !important;
    bottom: auto !important;
  }

  /* Paragraph stays exactly where it is; we only add space AFTER it by spacing the next section */
  /* Note: margin-top for .bl__shortsSection is handled by desktop override above */
  #blaze .bl__shortsSection {
    margin-bottom: 0 !important;
  }

  /* Note: margin-top for .bl__videosSection is handled by desktop override above */

  /* Reduce huge bottom whitespace safely */
  #blaze.bl {
    padding-bottom: var(--bl-bottom-gutter) !important;
  }
}

/* =========================
   Blaze: add ~20px breathing room under LONG-FORM (desktop only)
   Mac + Windows (no mobile)
   ========================= */
@media (min-width: 601px) {
  #blaze .bl__videosSection {
    margin-bottom: 40px !important;
  }
}

/* =========================
   Blaze: vertical nudges by breakpoint (no size/spacing changes)
   Desktop: link + desc + shorts + long-form up 10px; hero + heading stay.
   Mobile: everything below hero up 5px; hero stays.
   ========================= */
@media (min-width: 601px) {
  #blaze .bl__heroLink,
  #blaze .bl__desc {
    transform: translateY(-30px);
  }
  #blaze .bl__shortsSection,
  #blaze .bl__videosSection {
    top: -30px !important;
  }
}

@media (max-width: 600px) {
  #blaze .bl__heroLink,
  #blaze .bl__heading,
  #blaze .bl__desc,
  #blaze .bl__shortsSection,
  #blaze .bl__videosSection {
    position: relative;
    top: -13px;
  }
}

@media (max-width: 600px) {
  #blaze .bl__heading,
  #blaze .bl__desc,
  #blaze .bl__shortsSection,
  #blaze .bl__videosSection {
    position: relative;
    top: 0px;
  }
}

/* =========================================================
   BLAZE: Desktop logo instant loading fix
   Prevent shadow pop-in and layout shift
   ========================================================= */
@media (min-width: 601px) {
  #blaze .bl__logoWrap,
  #blaze .bl__logo {
    display: block;
  }
}

/* =========================================
   Blaze — SMALL PHONE ONLY (Mobile S)
   Narrow phones only; does NOT affect desktop resize
   ========================================= */
@media (max-width: 360px) and (pointer: coarse) {
  /* Roles/date line */
  #blaze .bl__roles {
    font-size: 13.2px !important;
    line-height: 1.22 !important;
  }

  /* Shorts link labels under Shorts cards only */
  #blaze .bl__shortsGrid .bl__shortCard .bl__link {
    font-size: 0.48rem !important;
    line-height: 0.90rem !important;
  }
}
